---
title:"버스 시간표 프로그램(파일입출력)1"
categories:
 - C
---
#버스 시간표 프로그램(파일입출력)1 : 네이버 블로그
<div class="wrap_rabbit pcol2 _param(1) _postViewArea221565571657" id="post-view221565571657">
<!-- Rabbit HTML --><div class="se-viewer se-theme-default" lang="ko-KR">
<!-- SE_DOC_HEADER_END -->
<div class="se-main-container">
<div class="se-component se-text se-l-default" id="SE-73d28336-9e8f-42e3-8d1b-6ae90d6a2b46">
<div class="se-component-content">
<div class="se-section se-section-text se-l-default">
<div class="se-module se-module-text"><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-175cd02a-aa82-44c2-9a48-6a70a70816b9" style=""><span class="se-fs- se-ff-" id="SE-6256ec47-cf80-4752-af84-c9f4193b0bd2" style="">파일 입출력 예제로 연습하다가 텍스트 파일로 저장할 수 있는 시간표를 만들어보고 싶었다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a8fd8288-3caf-4774-9ec9-f66722fa2870" style=""><span class="se-fs- se-ff-" id="SE-580cfbb5-d27a-4ee8-b0f8-b75d2681e65f" style="">아래는 버스 시간표를 입력,출력,저장,삭제 할 수 있는 프로그램이다</span></p><!-- } SE-TEXT --></div>
</div>
</div>
</div> <div class="se-component se-code se-l-default" id="SE-87283b22-7ee2-4e76-a95a-8e1ef8128571">
<div class="se-component-content">
<div class="se-section se-section-code se-l-default">
<div class="se-module se-module-code se-fs-fs13">
<div class="se-code-source">
<div class="__se_code_view language-javascript">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
int menu();
void search_bus(int list[], int n, int key);
int get_trans_time(void);
int main(void)
{
	FILE *fp = NULL;
	int list[10000] = { 0 };
	int temp[10000] = { 0 };
	int add_temp[10000] = { 0 };

	while (1)
	{
		fp = fopen("bus.txt", "a+");
		int save_size;
		for (save_size = 0; !feof(fp); save_size++)
		{
			fscanf(fp, "%d", &amp;list[save_size]);
		}
		int SIZE = save_size - 1;
		fclose(fp);

		switch (menu())
		{
		case 1:
			printf("버스 시간 찾기\n");
			int h, m, key;
			key = get_trans_time();
			search_bus(list, SIZE, key);
			break;
		case 2:
			fp = fopen("bus.txt", "w");
			for (int i = 0; i &lt; SIZE; i++)
			{
				temp[i] = list[i];
			}
			while (1)
			{
				printf("시간표를 입력합니다(00시00분을 입력하면 종료)\n");
				temp[SIZE] = get_trans_time();
				if (temp[SIZE] == 0) {
					printf("입력을 종료합니다\n");
					break;
				}
				SIZE++;
			}
			int least, i, j, temp_int;

			for (i = 0; i &lt; SIZE - 1; i++)
			{
				least = i;
				for (j = i + 1; j &lt; SIZE; j++)
					if (temp[j] &lt; temp[least])
						least = j;
				temp_int = temp[i];
				temp[i] = temp[least];
				temp[least] = temp_int;
			}

			for (i = 0; i &lt; SIZE; i++)
			{
				fprintf(fp, "%d\n", temp[i]);
			}
			fclose(fp);
			break;
		case 3:
			fp = fopen("bus.txt", "a+");
			for (int i = 0; i &lt; SIZE; i++)
			{
				printf("%d시 %d 분\n", list[i] / 60, list[i] % 60);
			}
			fclose(fp);
			break;
		case 4:
			printf("버스 시간표 삭제");
			int del, del_temp, num = 0;
			del = get_trans_time();
			int del_num;
			for (del_num = 0; del_num &lt; SIZE; del_num++)
			{
				if (del == list[del_num]) {
					num = 1;
					break;
				}
			}
			if (num == 0) {
				printf("\n일치하는 시간이 없습니다\n\n\n");
			}
			else
				list[del_num] = 0;
			for (del_num=del_num; del_num &lt; SIZE - 1; del_num++)
			{
				list[del_num] = list[(del_num+1)];
			}
			SIZE--;
			fp = fopen("bus.txt", "w");
			for (i = 0; i &lt; SIZE; i++)
			{
				fprintf(fp, "%d\n", list[i]);
			}
			fclose(fp);
			break;
		case 5:
			exit(1);
			break;
		default:
			break;
		}
	}
}
int menu() {
	printf("===============================================\n\n");
	printf(" 1 입력된 시간에서 가장 가까운 버스시간 보기\n");
	printf(" 2 버스 시간표 입력하기 \n");
	printf(" 3 버스 시간표 출력하기 \n");
	printf(" 4 버스 시간표 삭제하기 \n");
	printf(" 5 종료 \n\n");
	printf("===============================================\n");
	printf("선택 : ");
	int choice;
	scanf("%d", &amp;choice);
	return choice;
}
int get_trans_time(void) {
	printf("시간을 입력하세요 :  시 분\b\b\b\b\b\b\b");
	int h, m, key;
	scanf("%d %d", &amp;h, &amp;m);
	return key = h * 60 + m;
}
void search_bus(int list[], int n, int key)
{
	int i = 0;
	int o_key=key;
	while (list[i] != key)
	{
		for (i = 0; i &lt; n; i++) {
			if (key == list[i]) {
				printf("가장 가까운 버스는 %d시 %d분입니다\n\n", list[i] / 60, list[i] % 60);
				printf("대기 시간은 %d시 %d 분입니다\n", (key - o_key) / 60, (key - o_key) % 60);
				return 0;
			}
		}
		key = key + 1;
		if (key &gt; 14400) {
			printf("시간 오류!");
			return 0;
		}
	}
}</div>
</div>
</div>
</div>
</div>
<script class="__se_module_data" data-module='{"type":"v2_code", "id" : "SE-87283b22-7ee2-4e76-a95a-8e1ef8128571"}' type="text/data"></script>
</div> <div class="se-component se-text se-l-default" id="SE-dd53d223-9556-455c-9d44-ddb1752a11ac">
<div class="se-component-content">
<div class="se-section se-section-text se-l-default">
<div class="se-module se-module-text"><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e344b9a7-445d-4e56-a11c-2f37353b5bee" style=""><span class="se-fs- se-ff-" id="SE-357785bd-29db-4dda-9366-b738d224370a" style="">길긴 하지만 간단한 코드이다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-0dc677ca-c463-4a51-80eb-2c3a17b85c72" style=""><span class="se-fs- se-ff-" id="SE-0a632d98-b2fb-4fbc-ab87-65870176ccca" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-36c218cc-614f-4f5d-bb5a-691b11382031" style=""><span class="se-fs- se-ff-" id="SE-49b22991-3964-46ac-adfa-3cf37a7d5501" style="">나눠서 설명하자면 일단 파일을 열고 파일에 저장된 정수를 줄의 끝까지 배열에 입력시킨다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1f7091fd-2f4b-4298-9934-601275a86a5a" style=""><span class="se-fs- se-ff-" id="SE-32d4bc47-b5c2-45cb-a9a6-480ca522bb8c" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-8c1345d3-5498-49b9-b1da-221b293d42a1" style=""><span class="se-fs- se-ff-" id="SE-54e9088b-cb28-43ad-801c-3418f6388b93" style="">fp = fopen("bus.txt", "a+"); // 앍기+쓰기 추가모드로 열기</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-c9989b42-1cc9-4407-82ed-0f35f089d842" style=""><span class="se-fs- se-ff-" id="SE-7c263b14-d94a-47a0-8760-2a20adfb3b06" style="">int save_size;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-9a39f38d-81c6-4d34-8e38-686c532e76d4" style=""><span class="se-fs- se-ff-" id="SE-3487ed36-e813-491b-b514-ecd6898b56ac" style="">for (save_size = 0; !feof(fp); save_size++) // Ifeof는 파일의 끝을 의미한다. 파일이 끝날 때까지 list에 저장</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6ad6712b-f610-4fdf-b346-187314b0c354" style=""><span class="se-fs- se-ff-" id="SE-f249371e-2617-47a5-a3f5-ff260f123c4d" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-2accb201-ffd2-4917-bf9d-4655dcb1110f" style=""><span class="se-fs- se-ff-" id="SE-368dec19-508f-4f9f-af22-f37c68d8d518" style="">fscanf(fp, "%d", &amp;list[save_size]);</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-8fdbf62f-ef9d-42e1-80d8-bc8393de4033" style=""><span class="se-fs- se-ff-" id="SE-0160414c-8857-4dd9-b0e4-8decbe82955c" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1225e573-f762-44a5-b273-72fbc695838c" style=""><span class="se-fs- se-ff-" id="SE-d7749412-a2a2-4898-8c47-b1c7d23d2c85" style="">int SIZE = save_size - 1;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-d944d39b-1618-4deb-8367-845acfdb8ff9" style=""><span class="se-fs- se-ff-" id="SE-bc38edc6-31d3-4889-b710-e3655a79e637" style="">fclose(fp);</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1d5e7236-6e9e-4ece-8fea-b65baf0aa7ac" style=""><span class="se-fs- se-ff-" id="SE-17637130-c227-4957-989a-423233c6fbda" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-68cfa578-193d-485d-abc2-8cec4c8b9752" style=""><span class="se-fs- se-ff-" id="SE-3a9e2028-39eb-4d74-b0c4-6b9eb6e1b92b" style="">save_size는 마지막줄인지는 몰라도 0이 추가된다. 그러므로 실제 저장된 정수의 수는 save_size에서 1을 뺀다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-8d807fc6-3d72-44e8-a960-5954ec55e1a8" style=""><span class="se-fs- se-ff-" id="SE-af9ffa1c-bbab-47f0-967b-f35873a7823b" style="">파일 읽기로 정수 데이터를 배열에 옮기면 파일을 닫는다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-9cd0f10b-4667-46e7-ac17-014c94115989" style=""><span class="se-fs- se-ff-" id="SE-85068d36-a6c6-4cea-b1f5-ab4193234724" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-805c2b05-c200-49f2-ba58-adf199acaf24" style=""><span class="se-fs- se-ff-" id="SE-f41a2135-8a92-4630-8609-8a69abebfd60" style="">그럼 list[SIZE] 데이터가 만들어진다. </span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1f56ff07-9780-46a0-96dd-a50500c063ae" style=""><span class="se-fs- se-ff-" id="SE-9e5ec921-75f6-43fa-be05-016599147d5f" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-5c81b32b-9c41-4c76-a440-e689812e218c" style=""><span class="se-fs- se-ff-" id="SE-a985bd13-fd78-4041-80cf-f6c695b21f76" style="">그 아래에는 menu의 반환값으로 case되는 조건문이 있다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-50956198-649d-42ea-9883-0ff48202a629" style=""><span class="se-fs- se-ff-" id="SE-d09e25a7-ed0f-4339-a9d9-23f6657ea8fd" style="">menu 사용자 지정 함수는 메뉴를 출력하고 정수를 읽어 반환하는  함수이다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-fadb8085-dbc0-4eea-a295-6fba5d65da0c" style=""><span class="se-fs- se-ff-" id="SE-6702e28a-4796-4d5e-8a28-508b1b356b45" style="">입력된 정수는 반환되어 case로 분류된다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-54ac1fdb-428c-494c-b8b1-061053498b2c" style=""><span class="se-fs- se-ff-" id="SE-db3b9d97-9e17-4f84-810d-1779b3a76815" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a8733310-c534-4879-a43d-51ed098b71d8" style=""><span class="se-fs- se-ff-" id="SE-ec887395-4296-48a5-97fd-afce594971d2" style="">case 1은 시간을 입력하고 가장 가까운 버스시간을 찾는것이다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a554b307-54c0-4064-8881-679664f54b57" style=""><span class="se-fs- se-ff-" id="SE-4e4f5c7f-76dd-4e9b-ab0c-001bf59b235c" style="">case 1:</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-fcaa4d28-b339-45ae-9fec-24db22996b79" style=""><span class="se-fs- se-ff-" id="SE-36046d07-aea8-4d34-8649-daa9299b5de7" style="">printf("버스 시간 찾기\n");</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-3bf5a4f0-760e-48a8-b9ad-a21328c04281" style=""><span class="se-fs- se-ff-" id="SE-acf18e89-b461-4b6f-8519-a35f3b7d1768" style="">int h, m, key;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-d820a2ca-6a17-429b-82b7-c52accd75040" style=""><span class="se-fs- se-ff-" id="SE-c8c93543-6323-4c08-8c73-19d417288e29" style="">key = get_trans_time();</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e45ee4a6-d7cb-40b1-87c8-51e18c6cf31b" style=""><span class="se-fs- se-ff-" id="SE-60003a21-baee-4476-bc10-98bacec37355" style="">search_bus(list, SIZE, key);</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-64018402-4402-4263-8ab0-393ab362bd39" style=""><span class="se-fs- se-ff-" id="SE-28c96d8e-9460-4df8-9a82-afec555e64d6" style="">break;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6e4b48c6-ec1e-47de-808f-67308be9d50f" style=""><span class="se-fs- se-ff-" id="SE-f63e00e7-e205-4386-ba20-feee8f448ac9" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-80fb0eab-face-4fee-b503-134161e2d000" style=""><span class="se-fs- se-ff-" id="SE-cdeb319e-a41c-4e45-bce2-b8b369d66cbf" style="">일단 get_trans_time 함수가 키의 값으로 된다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-986cfad7-d8dd-402b-8082-be0767b99147" style=""><span class="se-fs- se-ff-" id="SE-8a625a01-a96e-46ce-8b00-474ddd0d6ad9" style="">get_trans_time 함수는 시간과 분을 입력받고 시간에 *60을 하고 분을 더해 반환하는 함수이다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-3c74ae98-f0fb-4b57-ba89-370347039d21" style=""><span class="se-fs- se-ff-" id="SE-20159be3-5b70-4e4c-b1d1-b1812ce2063d" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-2f5dbeb1-c7c5-4b75-af96-7b61c500bb4d" style=""><span class="se-fs- se-ff-" id="SE-72694def-5ab7-458f-a7e5-c4b411c29790" style="">int get_trans_time(void) {</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-7f41733d-9210-42ba-a14e-aec81f9387a3" style=""><span class="se-fs- se-ff-" id="SE-a278246f-f707-43e5-b130-5cb86142432e" style="">printf("시간을 입력하세요 : 시 분\b\b\b\b\b\b\b"); //\b로 커서를 뒤로 옮겼다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-bcc2a1ff-a0a7-49ed-ad87-b803b6e09763" style=""><span class="se-fs- se-ff-" id="SE-869a39f9-7d28-4ec7-94b7-e4dca203dc9f" style="">int h, m, key;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-948edb98-efe2-4468-ac30-1b8198f169f6" style=""><span class="se-fs- se-ff-" id="SE-bd9f769e-6576-4022-8f1e-4fc3e2464b89" style="">scanf("%d %d", &amp;h, &amp;m); //시간과 분을 띄어쓰기 하나로 구분한다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-89d011fd-3c7a-4566-8440-4ffe1e2d7a60" style=""><span class="se-fs- se-ff-" id="SE-abfbe0df-2f4f-445c-add4-c7726f331ba3" style="">return key = h * 60 + m; 시간*60을 한 후 분을 더하고 값을 반환한다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-d96e9cad-4b02-47b8-843d-fa2dd0e38dcd" style=""><span class="se-fs- se-ff-" id="SE-d17e4276-d4c5-4446-ba97-8cfaa5e71728" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-d7485833-1b08-4305-bbdf-0f4de123dc01" style=""><span class="se-fs- se-ff-" id="SE-85cdde6d-3921-4ca4-a188-de3a1e263318" style="">다시 case 1: 로 돌아가서 반환된 (분) 데이터는 키에 저장된다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-9bea425f-b273-4a2a-9bde-ba175dad6c20" style=""><span class="se-fs- se-ff-" id="SE-579a3871-222e-4308-8857-0e1e87b119c3" style="">그리고 이번엔 search_bus(list, SIZE, key); 함수가 실행된다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1127a2b3-9bbc-450e-9615-e6e90da43ca0" style=""><span class="se-fs- se-ff-" id="SE-ec51b2fe-bdcb-4d41-b45c-7899aef5f49f" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-f77817d9-373a-41a1-a21d-181496eaa253" style=""><span class="se-fs- se-ff-" id="SE-a288de4b-3699-4af3-be4e-705a1a570585" style="">search_bus 함수는 가장 가까운 버스가 몇번째 배열인지 순차탐색하는 함수이다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-0aa4aaec-76f6-4c69-baeb-1d917d9d8844" style=""><span class="se-fs- se-ff-" id="SE-4ae257fc-1fc3-46c1-ae19-bc7fd807197e" style="">void search_bus(int list[], int n, int key)</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1bc0c465-2d81-44c1-8f9e-e698b1a1c73d" style=""><span class="se-fs- se-ff-" id="SE-66626095-5274-4410-969a-b3c225863f74" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-26f7cf19-ab2c-4708-ade8-e02dbb6dfd70" style=""><span class="se-fs- se-ff-" id="SE-f75afc09-8c3e-4800-bf18-1984dd29ce89" style="">int i;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-2ae860c3-8b43-4785-8174-8adf12d65252" style=""><span class="se-fs- se-ff-" id="SE-d84db1c9-d685-42d0-8cb6-b481c700ffbf" style="">int o_key=key; /원본 키를 o_key로 복사한다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-19acd80f-e559-48ae-bd1c-d7042d9820a8" style=""><span class="se-fs- se-ff-" id="SE-0bf64efb-01ad-4622-a711-9e6456c69eb3" style="">while (1) </span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-8123604e-aad2-43a3-bb88-119eae9423ec" style=""><span class="se-fs- se-ff-" id="SE-df61dd89-268d-48e4-a0d5-8daf50d2e7db" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-c2929fd1-d976-47cc-b41e-48a4271eeba9" style=""><span class="se-fs- se-ff-" id="SE-5671f3f6-a866-499f-a6b7-8a35cc6a20c2" style="">for (i = 0; i &lt; n; i++) { //n(SIZE) 까지 배열을 비교한다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-3ff04720-8868-42e4-b4cd-407613fdb1f0" style=""><span class="se-fs- se-ff-" id="SE-b03aa529-d1d3-4510-af92-6321d5a99565" style="">if (key == list[i]) { //키랑 list[i]가 같으면 출력하고 종료시킨다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e71ef325-7f38-4994-b272-08c61e04049b" style=""><span class="se-fs- se-ff-" id="SE-5e192c2d-f2d9-4f54-a2be-72e02b42cdda" style="">printf("가장 가까운 버스는 %d시 %d분입니다\n\n", list[i] / 60, list[i] % 60);</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6670671f-f461-47d1-b0fd-6ade5c40fcec" style=""><span class="se-fs- se-ff-" id="SE-250d1085-2173-4cb7-b3fb-b82fdc9b4b21" style="">printf("대기 시간은 %d시 %d 분입니다\n", (key - o_key) / 60, (key - o_key) % 60);</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-65f72253-55b2-4edf-8220-d82c0b68fe97" style=""><span class="se-fs- se-ff-" id="SE-877f140e-9d2a-4aff-b6e8-c14fa1bc898a" style="">return 0;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-081327f1-c070-4ba3-a351-cc95bf5ac187" style=""><span class="se-fs- se-ff-" id="SE-61b9857e-9e4e-4272-b504-e803fe525965" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e59c383b-f29d-46f9-976a-b75726947e9f" style=""><span class="se-fs- se-ff-" id="SE-00eee60d-305a-49fe-8e13-6cc7f35fb205" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-2de18095-7e9e-43e6-893d-8ad0f8c929d5" style=""><span class="se-fs- se-ff-" id="SE-18ea8db8-073a-4c66-8fc2-83a2955ea25c" style="">key = key + 1; //가장 가까운 list[i]를 못찾으면 key에 5를 더한다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-cdecb454-295b-4ccb-a791-e2b7dd3c366a" style=""><span class="se-fs- se-ff-" id="SE-b9a1f1d8-8c7e-40f6-bf16-5523ca804c10" style="">if (key &gt; 14400) { //키가 24*60을 넘어가면 시간 오류 출력 후 종료시킨다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-0c778705-9a02-4ded-b048-406ef1791f13" style=""><span class="se-fs- se-ff-" id="SE-c2fd1a1a-5411-461c-8624-dbfad82216af" style="">printf("시간 오류!");</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-d243f0e0-689d-43c9-91da-ac81cea10969" style=""><span class="se-fs- se-ff-" id="SE-d5af9e2a-aacb-42d4-9c31-616ab88e5ad7" style="">return 0;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-514b12c1-7c61-42ef-861c-e2485a351a1f" style=""><span class="se-fs- se-ff-" id="SE-8769a168-3634-4f40-a8c6-471e11cab031" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-72d1a98d-1d36-4287-8aae-09ff12c6e649" style=""><span class="se-fs- se-ff-" id="SE-2169063f-d9b5-47ae-bc35-00db5ed3baf9" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-aca75889-e19a-4706-b96b-53ef2ca5c9c7" style=""><span class="se-fs- se-ff-" id="SE-1a2658b2-e8b1-43c6-88aa-f2c1e3c8b135" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-af2442e5-59d6-4e0e-9811-84f84294fce8" style=""><span class="se-fs- se-ff-" id="SE-2f610df8-daba-42df-a5ce-76d3101f51ff" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-eda958a8-1e44-497b-b73e-b2fb12a283e7" style=""><span class="se-fs- se-ff-" id="SE-3841fc69-e599-4ef5-b857-bb1a0a13baa5" style="">list[i]를 비교하면서 같은 값이 없으면 key를 1 더하는 것에 주목하라.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-f934d771-8725-4c82-95d5-65aa113b4ab9" style=""><span class="se-fs- se-ff-" id="SE-82f1117e-d188-4d89-b27b-a09fa07ea1e1" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-828f4179-faf6-4f1b-8cff-55ba4cc7e243" style=""><span class="se-fs- se-ff-" id="SE-c2306f12-82ad-4e51-a63a-cb9c4e865457" style="">이것으로 case 1 가장 가까운 시간 조회가 되었다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-efa887e8-6c38-43c2-8262-e6207bfaa502" style=""><span class="se-fs- se-ff-" id="SE-c4ee6718-ec3a-42eb-b5b1-be69ff426356" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e2ceff0f-414d-4400-b8a5-d4e26832e0c5" style=""><span class="se-fs- se-ff-" id="SE-e97d77c7-ae26-4324-bc98-5381249dce43" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-71c4f7ea-7fdf-4ca6-bf98-0e6da2c9ffe6" style=""><span class="se-fs- se-ff-" id="SE-9c3bdaf5-1026-4e23-a5de-aa7f21392a9d" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-147c7cba-28c0-4b3d-8613-d41893e1fa98" style=""><span class="se-fs- se-ff-" id="SE-1e94eac7-0260-4446-8d03-a815005be284" style="">case 2:는 시간표를 입력해 입력한 시간을 list 배열에 합친 후 정렬시켜 파일에 저장한다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a4c4616f-7528-4bc6-8e7b-d7889fdb1aca" style=""><span class="se-fs- se-ff-" id="SE-96c059d0-82d3-4bce-bd4b-0973d530a5db" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-5b184cf2-d6d9-46e1-9b35-0af93cfd5add" style=""><span class="se-fs- se-ff-" id="SE-22eb643a-4e1c-4048-a6a6-84100f9b7153" style="">fp = fopen("bus.txt", "w"); //폴더를 쓰기모드로 연다(지우고 연다) 데이터는 이미 list[] 배열에 저장되어 있다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-b08ff228-0ca2-4729-9cb2-e8c570638566" style=""><span class="se-fs- se-ff-" id="SE-cf54d2f0-bdb9-45e0-8d53-ff26bc445aef" style="">for (int i = 0; i &lt; SIZE; i++)</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a5a66b4f-b0e9-4f7c-b034-90c31310060a" style=""><span class="se-fs- se-ff-" id="SE-c3b2e721-1902-422a-bb17-2d92d1da21a0" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-469d553f-d188-400b-b09c-035038036f68" style=""><span class="se-fs- se-ff-" id="SE-619c3744-ccdc-4048-89a2-82e6049a0ad2" style="">temp[i] = list[i]; list[SIZE] 배열을 temp에 이동시킨다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-07bba6ef-dee7-4279-859a-a44dcb74bb30" style=""><span class="se-fs- se-ff-" id="SE-0537e234-6908-4a37-9586-7f757ce57c5c" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-55c3683f-4d34-42ff-a9cf-dff2971cee1b" style=""><span class="se-fs- se-ff-" id="SE-1599bcc7-51e9-418e-90a8-56943b71a25a" style="">while (1)</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e8105b02-86b2-4248-a856-f3a083596300" style=""><span class="se-fs- se-ff-" id="SE-27ec4657-a93c-4c9f-a411-07b5473397cd" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-4cd5b66a-cd34-452a-9b88-9a69ce8cf3b8" style=""><span class="se-fs- se-ff-" id="SE-0511ab77-0523-4840-a506-15cc42063804" style="">printf("시간표를 입력합니다(00시00분을 입력하면 종료)\n");</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-90458bda-448b-42a2-80e3-666a31bbf28e" style=""><span class="se-fs- se-ff-" id="SE-6c9bbd1d-c38d-4661-8f10-afe84d468f68" style="">temp[SIZE] = get_trans_time(); //get_trans_time 함수로 정수를 입력받는다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6d4d79a5-68b9-47a4-b234-a72fbc299bdd" style=""><span class="se-fs- se-ff-" id="SE-5aaf44d4-0c29-4b6e-9d37-408d3971f595" style="">if (temp[SIZE] == 0) { 00시 00분을 입력하면 0이므로 temp[SIZE]가 0이면 종료시킨다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-159ef176-8081-4516-b53a-b5e9420bb083" style=""><span class="se-fs- se-ff-" id="SE-ffc0874a-90f8-48cc-a714-1023d1b3cce0" style="">printf("입력을 종료합니다\n");</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1c2fe113-4e1a-4b36-bbb7-219949a408dc" style=""><span class="se-fs- se-ff-" id="SE-8685a119-b339-4335-a550-502c44499a6d" style="">break;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e4aefbe4-8449-4ef1-97cf-d208583cd18c" style=""><span class="se-fs- se-ff-" id="SE-fdb2e18a-de68-47c1-ade7-d446053d2a70" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-9d161af8-3ca9-42fb-93a2-8bad10742a3b" style=""><span class="se-fs- se-ff-" id="SE-fee0f3f5-db99-455a-9496-5d0ab7ac31b2" style="">SIZE++; //입력받는만큼 사이즈를 하나 올린다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-c7d0e09f-9d82-4f8d-aae1-d29f35bbe4ae" style=""><span class="se-fs- se-ff-" id="SE-fdd01372-3f6a-4ba0-8c12-27630ea312e2" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e7f64a86-366c-420a-9f87-24a6d5b35be8" style=""><span class="se-fs- se-ff-" id="SE-789674c8-ab06-4b71-b22b-6d53a284d09f" style="">int least, i, j, temp_int;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-7af1943d-7632-4b97-b989-a6a5a6961006" style=""><span class="se-fs- se-ff-" id="SE-8fc7ee94-9a2e-42ea-9813-faf07ea2a4fb" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-c09b227b-f93a-4bf9-9252-45f89e577089" style=""><span class="se-fs- se-ff-" id="SE-d144c565-cc13-4b6a-8823-d4d67aade83d" style="">for (i = 0; i &lt; SIZE - 1; i++) //이 반복문은 순차정렬이다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-acee7b9b-649a-4859-8df2-391d5e9f8fda" style=""><span class="se-fs- se-ff-" id="SE-14939b97-38cf-4a95-a70b-db59589420ee" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-1522a1e2-75b8-4697-9b23-2fa74b89808d" style=""><span class="se-fs- se-ff-" id="SE-222aa303-d217-4264-bcfa-29bfe5289c7c" style="">least = i; //기본최소값i</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-7bfa0f8d-2b3d-4810-9c1d-51b5f080f5dc" style=""><span class="se-fs- se-ff-" id="SE-ce24bbcd-9a5d-4699-bafc-56d6cb867b7d" style="">for (j = i + 1; j &lt; SIZE; j++)</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-222ac760-7dd0-4205-a045-202bac1de293" style=""><span class="se-fs- se-ff-" id="SE-c21a80b5-5357-45bd-a676-8de3bc65e365" style="">if (temp[j] &lt; temp[least]) //temp j가 더 작으면 최소값을 j로 둔다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-5ae278ed-6003-494f-be81-2f0dca36e89d" style=""><span class="se-fs- se-ff-" id="SE-01f45055-f146-485f-a3a4-d2ec2c974c29" style="">least = j;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-3e3f609c-c2a6-4947-bd06-c6c98787b0f1" style=""><span class="se-fs- se-ff-" id="SE-1dd045e4-c819-48d9-9ca5-2ef5cc1a22b8" style="">temp_int = temp[i]; temp를 이용해 temp[i]와 temp[least]가 바뀐다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-46f4dd86-48b9-4b75-8e51-ce00e362310c" style=""><span class="se-fs- se-ff-" id="SE-3c79d5da-e653-41a0-a752-943bb2bc76f8" style="">temp[i] = temp[least];</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-97ce3b0b-d544-4df1-a5a1-62e6272d585f" style=""><span class="se-fs- se-ff-" id="SE-4abd662e-d971-4f0e-afe7-777de93b6d60" style="">temp[least] = temp_int;</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-a7aeebd6-a55a-45ca-80c5-c9e9c18dd6e5" style=""><span class="se-fs- se-ff-" id="SE-e1d9a5e2-27c0-4656-bd49-8d1fca4b87e2" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e818a798-2980-4dce-9172-2e1db90b49d0" style=""><span class="se-fs- se-ff-" id="SE-ed8c204f-626d-47e5-90ec-2afc708682ac" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-fc06d6a4-7c0c-4d68-a1ae-f2f337a42689" style=""><span class="se-fs- se-ff-" id="SE-ad7f51d4-eee0-4a3b-aa73-3fa184f7ff05" style="">for (i = 0; i &lt; SIZE; i++)</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-e75bcda7-4f80-4210-8449-3b3906f420ed" style=""><span class="se-fs- se-ff-" id="SE-d6d62754-6440-47c3-92b5-c392c65fc868" style="">{</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-5d493f84-7675-46ea-9fde-7f30a6f477fd" style=""><span class="se-fs- se-ff-" id="SE-bf82b6d7-0bb6-462b-9161-36946aa7e3ab" style="">fprintf(fp, "%d\n", temp[i]); //temp[i]를 하나씩 띄우며 저장한다</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6d0e5ef6-2967-4a8f-9f71-b16b0a284cfd" style=""><span class="se-fs- se-ff-" id="SE-c9d94104-406f-4d28-84b1-d6d45435e6e3" style="">}</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-6e78bf6a-38a2-4bd4-a381-3469251a0527" style=""><span class="se-fs- se-ff-" id="SE-f2d4a12f-3429-4267-bd63-5552913c7681" style="">fclose(fp); </span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-fc3ab0cf-79d4-43b5-a363-68a10ee5a100" style=""><span class="se-fs- se-ff-" id="SE-6158e024-0940-4201-8180-08c8109947a0" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-cb545671-fc79-4a4a-b69c-5a378b7ae297" style=""><span class="se-fs- se-ff-" id="SE-523f599d-6283-402b-b8ea-7c323764f267" style="">이로써 case 2까지의 설명을 마친다.</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-7a869df8-cf6e-4a0f-a32f-149c251ee619" style=""><span class="se-fs- se-ff-" id="SE-1c40db00-1dcf-4a63-9dcc-366b37103554" style="">​</span></p><!-- } SE-TEXT --><!-- SE-TEXT { --><p class="se-text-paragraph se-text-paragraph-align-" id="SE-9b47c00e-69f4-4595-8db3-cc30989f96ea" style=""><span class="se-fs- se-ff-" id="SE-94e36e9a-b74f-4dec-ada1-19b414f5110b" style="">파일 입출력을 활용한다면 사용자가 편하게 설정을 변경 할 수 있을 것 같다</span></p><!-- } SE-TEXT --></div>
</div>
</div>
</div> </div>
</div>
</div>